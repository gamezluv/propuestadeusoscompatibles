<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
        <link rel="stylesheet" href="css/qgis2web.css">
        <link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/leaflet.photon.css">
        <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        </style>
        <title></title>
    </head>
    <body>
        <div id="map">
        </div>
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/L.Control.Layers.Tree.min.js"></script>
        <script src="js/multi-style-layer.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/leaflet.photon.js"></script>
        <script src="data/Manzanas_colindantes_0.js"></script>
        <script src="data/vias_etiquetas_1.js"></script>
        <script src="data/limite_distrital_2.js"></script>
        <script src="data/limite_distrital_INEI_3.js"></script>
        <script src="data/usos_compatibles_4.js"></script>
        <script src="data/usos_compatibles_bordes_5.js"></script>
        <script>
        var map = L.map('map', {
            zoomControl:false, maxZoom:28, minZoom:1
        }).fitBounds([[-12.116114129458461,-77.02048510397044],[-12.083634368684862,-76.97143907325133]]);
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        // remove popup's row if "visible-with-data"
        function removeEmptyRowsFromPopupContent(content, feature) {
         var tempDiv = document.createElement('div');
         tempDiv.innerHTML = content;
         var rows = tempDiv.querySelectorAll('tr');
         for (var i = 0; i < rows.length; i++) {
             var td = rows[i].querySelector('td.visible-with-data');
             var key = td ? td.id : '';
             if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                 rows[i].parentNode.removeChild(rows[i]);
             }
         }
         return tempDiv.innerHTML;
        }
        // modify popup if contains media
        function addClassToPopupIfMedia(content, popup) {
            var tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            var imgTd = tempDiv.querySelector('td img');
            if (imgTd) {
                var src = imgTd.getAttribute('src');
                if (/\.(jpg|jpeg|png|gif|bmp|webp|avif)$/i.test(src)) {
                    popup._contentNode.classList.add('media');
                    setTimeout(function() {
                        popup.update();
                    }, 10);
                } else if (/\.(mp3|wav|ogg|aac)$/i.test(src)) {
                    var audio = document.createElement('audio');
                    audio.controls = true;
                    audio.src = src;
                    imgTd.parentNode.replaceChild(audio, imgTd);
                    popup._contentNode.classList.add('media');
                    setTimeout(function() {
                        popup.setContent(tempDiv.innerHTML);
                        popup.update();
                    }, 10);
                } else if (/\.(mp4|webm|ogg|mov)$/i.test(src)) {
                    var video = document.createElement('video');
                    video.controls = true;
                    video.src = src;
                    video.style.width = "400px";
                    video.style.height = "300px";
                    video.style.maxHeight = "60vh";
                    video.style.maxWidth = "60vw";
                    imgTd.parentNode.replaceChild(video, imgTd);
                    popup._contentNode.classList.add('media');
                    // Aggiorna il popup quando il video carica i metadati
                    video.addEventListener('loadedmetadata', function() {
                        popup.update();
                    });
                    setTimeout(function() {
                        popup.setContent(tempDiv.innerHTML);
                        popup.update();
                    }, 10);
                } else {
                    popup._contentNode.classList.remove('media');
                }
            } else {
                popup._contentNode.classList.remove('media');
            }
        }
        var zoomControl = L.control.zoom({
            position: 'topleft'
        }).addTo(map);
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
        }
        function pop_Manzanas_colindantes_0(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['OBJECTID'] !== null ? autolinker.link(String(feature.properties['OBJECTID']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['LLAVE_MZS'] !== null ? autolinker.link(String(feature.properties['LLAVE_MZS']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ID_MZ'] !== null ? autolinker.link(String(feature.properties['ID_MZ']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CON_SEGURO'] !== null ? autolinker.link(String(feature.properties['CON_SEGURO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIN_SEGURO'] !== null ? autolinker.link(String(feature.properties['SIN_SEGURO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['DISCAPACID'] !== null ? autolinker.link(String(feature.properties['DISCAPACID']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SIN_DNI'] !== null ? autolinker.link(String(feature.properties['SIN_DNI']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['IDIOMA_NAT'] !== null ? autolinker.link(String(feature.properties['IDIOMA_NAT']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ANALFABETO'] !== null ? autolinker.link(String(feature.properties['ANALFABETO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['POB_EDU_BA'] !== null ? autolinker.link(String(feature.properties['POB_EDU_BA']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['POB_EDU_TE'] !== null ? autolinker.link(String(feature.properties['POB_EDU_TE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['POB_EDU_SU'] !== null ? autolinker.link(String(feature.properties['POB_EDU_SU']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['PEA_OCUPAD'] !== null ? autolinker.link(String(feature.properties['PEA_OCUPAD']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['PEA_DESOCU'] !== null ? autolinker.link(String(feature.properties['PEA_DESOCU']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['TIENE_SIS'] !== null ? autolinker.link(String(feature.properties['TIENE_SIS']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['TIENE_ESSA'] !== null ? autolinker.link(String(feature.properties['TIENE_ESSA']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['TIENE_FFAA'] !== null ? autolinker.link(String(feature.properties['TIENE_FFAA']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SEGURO_PRI'] !== null ? autolinker.link(String(feature.properties['SEGURO_PRI']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['OTRO_SEGUR'] !== null ? autolinker.link(String(feature.properties['OTRO_SEGUR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['VER'] !== null ? autolinker.link(String(feature.properties['VER']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['OIR'] !== null ? autolinker.link(String(feature.properties['OIR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['HABLAR'] !== null ? autolinker.link(String(feature.properties['HABLAR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['MOVERSE'] !== null ? autolinker.link(String(feature.properties['MOVERSE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ENTENDER'] !== null ? autolinker.link(String(feature.properties['ENTENDER']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['RELACIONAR'] !== null ? autolinker.link(String(feature.properties['RELACIONAR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['QUECHUA'] !== null ? autolinker.link(String(feature.properties['QUECHUA']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['AIMARA'] !== null ? autolinker.link(String(feature.properties['AIMARA']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ASHANINKA'] !== null ? autolinker.link(String(feature.properties['ASHANINKA']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['AWUJUN_AGU'] !== null ? autolinker.link(String(feature.properties['AWUJUN_AGU']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SHIPIBO_KO'] !== null ? autolinker.link(String(feature.properties['SHIPIBO_KO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SAWI_CHAYA'] !== null ? autolinker.link(String(feature.properties['SAWI_CHAYA']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['MATSIGENKA'] !== null ? autolinker.link(String(feature.properties['MATSIGENKA']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ACHUAR'] !== null ? autolinker.link(String(feature.properties['ACHUAR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['OTRA_LENGU'] !== null ? autolinker.link(String(feature.properties['OTRA_LENGU']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['INICIAL'] !== null ? autolinker.link(String(feature.properties['INICIAL']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['PRIMARIA'] !== null ? autolinker.link(String(feature.properties['PRIMARIA']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SECUNDARIA'] !== null ? autolinker.link(String(feature.properties['SECUNDARIA']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['BASICA_ESP'] !== null ? autolinker.link(String(feature.properties['BASICA_ESP']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SUP_NO_UNI'] !== null ? autolinker.link(String(feature.properties['SUP_NO_UNI']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SUP_NO_U_1'] !== null ? autolinker.link(String(feature.properties['SUP_NO_U_1']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SUP_UNI_CO'] !== null ? autolinker.link(String(feature.properties['SUP_UNI_CO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SUP_UNI_IN'] !== null ? autolinker.link(String(feature.properties['SUP_UNI_IN']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['MENORES'] !== null ? autolinker.link(String(feature.properties['MENORES']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ADULTOS'] !== null ? autolinker.link(String(feature.properties['ADULTOS']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ADULTOS_MA'] !== null ? autolinker.link(String(feature.properties['ADULTOS_MA']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ESRI_OID'] !== null ? autolinker.link(String(feature.properties['ESRI_OID']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['UBIGEO'] !== null ? autolinker.link(String(feature.properties['UBIGEO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Shape_Leng'] !== null ? autolinker.link(String(feature.properties['Shape_Leng']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Shape_Area'] !== null ? autolinker.link(String(feature.properties['Shape_Area']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Manzanas_colindantes_0_0() {
            return {
                pane: 'pane_Manzanas_colindantes_0',
                opacity: 1,
                color: 'rgba(35,35,35,0.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(247,247,247,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_Manzanas_colindantes_0');
        map.getPane('pane_Manzanas_colindantes_0').style.zIndex = 400;
        map.getPane('pane_Manzanas_colindantes_0').style['mix-blend-mode'] = 'normal';
        var layer_Manzanas_colindantes_0 = new L.geoJson(json_Manzanas_colindantes_0, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Manzanas_colindantes_0',
            layerName: 'layer_Manzanas_colindantes_0',
            pane: 'pane_Manzanas_colindantes_0',
            onEachFeature: pop_Manzanas_colindantes_0,
            style: style_Manzanas_colindantes_0_0,
        });
        bounds_group.addLayer(layer_Manzanas_colindantes_0);
        map.addLayer(layer_Manzanas_colindantes_0);
        function pop_vias_etiquetas_1(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['GCIDENTIFI'] !== null ? autolinker.link(String(feature.properties['GCIDENTIFI']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['GCCALCULAT'] !== null ? autolinker.link(String(feature.properties['GCCALCULAT']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NAME'] !== null ? autolinker.link(String(feature.properties['NAME']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['TIPOVIA'] !== null ? autolinker.link(String(feature.properties['TIPOVIA']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NOMBRE'] !== null ? autolinker.link(String(feature.properties['NOMBRE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['APELLIDO'] !== null ? autolinker.link(String(feature.properties['APELLIDO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NOMBRECOMP'] !== null ? autolinker.link(String(feature.properties['NOMBRECOMP']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NOMBREANTE'] !== null ? autolinker.link(String(feature.properties['NOMBREANTE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CODIGO'] !== null ? autolinker.link(String(feature.properties['CODIGO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NIVEL'] !== null ? autolinker.link(String(feature.properties['NIVEL']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SENTIDO'] !== null ? autolinker.link(String(feature.properties['SENTIDO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['KM_H'] !== null ? autolinker.link(String(feature.properties['KM_H']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['LENGTH'] !== null ? autolinker.link(String(feature.properties['LENGTH']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['COMPETENCI'] !== null ? autolinker.link(String(feature.properties['COMPETENCI']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['VOL_TRANSI'] !== null ? autolinker.link(String(feature.properties['VOL_TRANSI']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_vias_etiquetas_1_0() {
            return {
                fill: false,
                stroke: false,
                interactive: false
            }
        }
        map.createPane('pane_vias_etiquetas_1');
        map.getPane('pane_vias_etiquetas_1').style.zIndex = 401;
        map.getPane('pane_vias_etiquetas_1').style['mix-blend-mode'] = 'normal';
        var layer_vias_etiquetas_1 = new L.geoJson(json_vias_etiquetas_1, {
            attribution: '',
            interactive: true,
            dataVar: 'json_vias_etiquetas_1',
            layerName: 'layer_vias_etiquetas_1',
            pane: 'pane_vias_etiquetas_1',
            onEachFeature: pop_vias_etiquetas_1,
            style: style_vias_etiquetas_1_0,
        });
        bounds_group.addLayer(layer_vias_etiquetas_1);
        map.addLayer(layer_vias_etiquetas_1);
        function pop_limite_distrital_2(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['OBJECTID'] !== null ? autolinker.link(String(feature.properties['OBJECTID']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['AREA_M2'] !== null ? autolinker.link(String(feature.properties['AREA_M2']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_limite_distrital_2_0() {
            return {
                pane: 'pane_limite_distrital_2',
                opacity: 1,
                color: 'rgba(255,255,255,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 4.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,0.0)',
                interactive: true,
            }
        }
        function style_limite_distrital_2_1() {
            return {
                pane: 'pane_limite_distrital_2',
                opacity: 1,
                color: 'rgba(128,128,128,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 3.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,0.0)',
                interactive: true,
            }
        }
        map.createPane('pane_limite_distrital_2');
        map.getPane('pane_limite_distrital_2').style.zIndex = 402;
        map.getPane('pane_limite_distrital_2').style['mix-blend-mode'] = 'normal';
        var layer_limite_distrital_2 = new L.geoJson.multiStyle(json_limite_distrital_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_limite_distrital_2',
            layerName: 'layer_limite_distrital_2',
            pane: 'pane_limite_distrital_2',
            onEachFeature: pop_limite_distrital_2,
            styles: [style_limite_distrital_2_0,style_limite_distrital_2_1,]
        });
        bounds_group.addLayer(layer_limite_distrital_2);
        map.addLayer(layer_limite_distrital_2);
        function pop_limite_distrital_INEI_3(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['OBJECTID'] !== null ? autolinker.link(String(feature.properties['OBJECTID']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['IDDIST'] !== null ? autolinker.link(String(feature.properties['IDDIST']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['IDDPTO'] !== null ? autolinker.link(String(feature.properties['IDDPTO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['IDPROV'] !== null ? autolinker.link(String(feature.properties['IDPROV']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NOMBDIST'] !== null ? autolinker.link(String(feature.properties['NOMBDIST']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NOMBPROV'] !== null ? autolinker.link(String(feature.properties['NOMBPROV']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NOMBDEP'] !== null ? autolinker.link(String(feature.properties['NOMBDEP']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['DCTO'] !== null ? autolinker.link(String(feature.properties['DCTO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['LEY'] !== null ? autolinker.link(String(feature.properties['LEY']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['FECHA'] !== null ? autolinker.link(String(feature.properties['FECHA']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NOM_CAP'] !== null ? autolinker.link(String(feature.properties['NOM_CAP']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_limite_distrital_INEI_3_0() {
            return {
                pane: 'pane_limite_distrital_INEI_3',
                opacity: 1,
                color: 'rgba(185,145,145,1.0)',
                dashArray: '5.0,1.0',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(243,166,178,0.0)',
                interactive: true,
            }
        }
        map.createPane('pane_limite_distrital_INEI_3');
        map.getPane('pane_limite_distrital_INEI_3').style.zIndex = 403;
        map.getPane('pane_limite_distrital_INEI_3').style['mix-blend-mode'] = 'normal';
        var layer_limite_distrital_INEI_3 = new L.geoJson(json_limite_distrital_INEI_3, {
            attribution: '',
            interactive: true,
            dataVar: 'json_limite_distrital_INEI_3',
            layerName: 'layer_limite_distrital_INEI_3',
            pane: 'pane_limite_distrital_INEI_3',
            onEachFeature: pop_limite_distrital_INEI_3,
            style: style_limite_distrital_INEI_3_0,
        });
        bounds_group.addLayer(layer_limite_distrital_INEI_3);
        map.addLayer(layer_limite_distrital_INEI_3);
        function pop_usos_compatibles_4(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CUC'] !== null ? autolinker.link(String(feature.properties['CUC']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SECTOR'] !== null ? autolinker.link(String(feature.properties['SECTOR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['COD_LOTE'] !== null ? autolinker.link(String(feature.properties['COD_LOTE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ZON_VIG'] !== null ? autolinker.link(String(feature.properties['ZON_VIG']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Area_ha'] !== null ? autolinker.link(String(feature.properties['Area_ha']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['AREA_M2'] !== null ? autolinker.link(String(feature.properties['AREA_M2']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ZON_P1'] !== null ? autolinker.link(String(feature.properties['ZON_P1']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CEN_SB_R'] !== null ? autolinker.link(String(feature.properties['CEN_SB_R']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CEN_P1'] !== null ? autolinker.link(String(feature.properties['CEN_P1']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ZON_P2'] !== null ? autolinker.link(String(feature.properties['ZON_P2']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CEN_P2'] !== null ? autolinker.link(String(feature.properties['CEN_P2']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['USOS_COMPA'] !== null ? autolinker.link(String(feature.properties['USOS_COMPA']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ZRE_USOCOM'] !== null ? autolinker.link(String(feature.properties['ZRE_USOCOM']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        var pattern_usos_compatibles_4_0 = new L.StripePattern({
            weight: 0.1,
            spaceWeight: 0.8,
            color: '#997a00',
            opacity: 1.0,
            spaceOpacity: 0,
            angle: 315
        });
        pattern_usos_compatibles_4_0.addTo(map);
        var pattern_usos_compatibles_4_0 = new L.StripePattern({
            weight: 0.1,
            spaceWeight: 0.8,
            color: '#000000',
            opacity: 1.0,
            spaceOpacity: 0,
            angle: 315
        });
        pattern_usos_compatibles_4_0.addTo(map);
        var pattern_usos_compatibles_4_0 = new L.StripePattern({
            weight: 0.1,
            spaceWeight: 0.3,
            color: '#7e4f29',
            opacity: 1.0,
            spaceOpacity: 0,
            angle: 315
        });
        pattern_usos_compatibles_4_0.addTo(map);
        var pattern_usos_compatibles_4_0 = new L.StripePattern({
            weight: 0.1,
            spaceWeight: 0.3,
            color: '#4b98cf',
            opacity: 1.0,
            spaceOpacity: 0,
            angle: 315
        });
        pattern_usos_compatibles_4_0.addTo(map);
        var pattern_usos_compatibles_4_0 = new L.StripePattern({
            weight: 0.1,
            spaceWeight: 0.3,
            color: '#cb0003',
            opacity: 1.0,
            spaceOpacity: 0,
            angle: 315
        });
        pattern_usos_compatibles_4_0.addTo(map);
        var pattern_usos_compatibles_4_0 = new L.StripePattern({
            weight: 0.1,
            spaceWeight: 0.3,
            color: '#7d832c',
            opacity: 1.0,
            spaceOpacity: 0,
            angle: 315
        });
        pattern_usos_compatibles_4_0.addTo(map);
        function style_usos_compatibles_4_0(feature) {
            switch(String(feature.properties['USOS_COMPA'])) {
                case 'Uso Polifuncional':
                    return {
                pane: 'pane_usos_compatibles_4',
                stroke: false, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(124,12,14,1.0)',
                interactive: true,
            }
                    break;
                case 'Uso Mixto Controlado':
                    return {
                pane: 'pane_usos_compatibles_4',
                stroke: false, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(227,26,28,1.0)',
                interactive: true,
            }
                    break;
                case 'Uso Mixto Restringido':
                    return {
                pane: 'pane_usos_compatibles_4',
                stroke: false, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,127,0,1.0)',
                interactive: true,
            }
                    break;
                case 'Uso Residencial Preferente':
                    return {
                pane: 'pane_usos_compatibles_4',
                stroke: false, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(247,208,89,1.0)',
                interactive: true,
            }
                    break;
                case 'Uso de Espacios Abiertos':
                    return {
                pane: 'pane_usos_compatibles_4',
                stroke: false, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(235,245,197,1.0)',
                interactive: true,
            }
                    break;
                case 'Usos Específicos':
                    return {
                pane: 'pane_usos_compatibles_4',
                stroke: false, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(169,172,168,1.0)',
                interactive: true,
            }
                    break;
                case 'Planes Especiales':
                    return {
                pane: 'pane_usos_compatibles_4',
                stroke: false, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(129,202,191,1.0)',
                interactive: true,
            }
                    break;
                case 'Limatambo':
                    return {
                pane: 'pane_usos_compatibles_4',
                stroke: false,
                fillOpacity: 1,
                fillPattern: pattern_usos_compatibles_4_0,
                interactive: true,
            }
                    break;
                case 'Torres de San Borja':
                    return {
                pane: 'pane_usos_compatibles_4',
                stroke: false,
                fillOpacity: 1,
                fillPattern: pattern_usos_compatibles_4_0,
                interactive: true,
            }
                    break;
                case 'Clúster Gastronómico':
                    return {
                pane: 'pane_usos_compatibles_4',
                stroke: false,
                fillOpacity: 1,
                fillPattern: pattern_usos_compatibles_4_0,
                interactive: true,
            }
                    break;
                case 'Clúster de Salud':
                    return {
                pane: 'pane_usos_compatibles_4',
                stroke: false,
                fillOpacity: 1,
                fillPattern: pattern_usos_compatibles_4_0,
                interactive: true,
            }
                    break;
                case 'Clúster Comercial':
                    return {
                pane: 'pane_usos_compatibles_4',
                stroke: false,
                fillOpacity: 1,
                fillPattern: pattern_usos_compatibles_4_0,
                interactive: true,
            }
                    break;
                case 'Planes Especiales - Clúster Cultural':
                    return {
                pane: 'pane_usos_compatibles_4',
                stroke: false,
                fillOpacity: 1,
                fillPattern: pattern_usos_compatibles_4_0,
                interactive: true,
            }
                    break;
            }
        }
        map.createPane('pane_usos_compatibles_4');
        map.getPane('pane_usos_compatibles_4').style.zIndex = 404;
        map.getPane('pane_usos_compatibles_4').style['mix-blend-mode'] = 'normal';
        var layer_usos_compatibles_4 = new L.geoJson(json_usos_compatibles_4, {
            attribution: '',
            interactive: true,
            dataVar: 'json_usos_compatibles_4',
            layerName: 'layer_usos_compatibles_4',
            pane: 'pane_usos_compatibles_4',
            onEachFeature: pop_usos_compatibles_4,
            style: style_usos_compatibles_4_0,
        });
        bounds_group.addLayer(layer_usos_compatibles_4);
        map.addLayer(layer_usos_compatibles_4);
        function pop_usos_compatibles_bordes_5(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Area_ha'] !== null ? autolinker.link(String(feature.properties['Area_ha']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['AREA_M2'] !== null ? autolinker.link(String(feature.properties['AREA_M2']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['USO COMPAT'] !== null ? autolinker.link(String(feature.properties['USO COMPAT']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_usos_compatibles_bordes_5_0() {
            return {
                pane: 'pane_usos_compatibles_bordes_5',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_usos_compatibles_bordes_5');
        map.getPane('pane_usos_compatibles_bordes_5').style.zIndex = 405;
        map.getPane('pane_usos_compatibles_bordes_5').style['mix-blend-mode'] = 'normal';
        var layer_usos_compatibles_bordes_5 = new L.geoJson(json_usos_compatibles_bordes_5, {
            attribution: '',
            interactive: true,
            dataVar: 'json_usos_compatibles_bordes_5',
            layerName: 'layer_usos_compatibles_bordes_5',
            pane: 'pane_usos_compatibles_bordes_5',
            onEachFeature: pop_usos_compatibles_bordes_5,
            style: style_usos_compatibles_bordes_5_0,
        });
        bounds_group.addLayer(layer_usos_compatibles_bordes_5);
        map.addLayer(layer_usos_compatibles_bordes_5);
        setBounds();
        var i = 0;
        layer_vias_etiquetas_1.eachLayer(function(layer) {
            var context = {
                feature: layer.feature,
                variables: {}
            };
            layer.bindTooltip((layer.feature.properties['NOMBRECOMP'] !== null?String('<div style="color: #323232; font-size: 4pt; font-family: \'Calibri\', sans-serif;">' + layer.feature.properties['NOMBRECOMP']) + '</div>':''), {permanent: true, offset: [-0, -16], className: 'css_vias_etiquetas_1'});
            labels.push(layer);
            totalMarkers += 1;
              layer.added = true;
              addLabel(layer, i);
              i++;
        });
        var i = 0;
        layer_limite_distrital_INEI_3.eachLayer(function(layer) {
            var context = {
                feature: layer.feature,
                variables: {}
            };
            layer.bindTooltip((layer.feature.properties['NOMBDIST'] !== null?String('<div style="color: #000000; font-size: 8pt; font-family: \'Arial\', sans-serif;">' + layer.feature.properties['NOMBDIST']) + '</div>':''), {permanent: true, offset: [-0, -16], className: 'css_limite_distrital_INEI_3'});
            labels.push(layer);
            totalMarkers += 1;
              layer.added = true;
              addLabel(layer, i);
              i++;
        });
        resetLabels([layer_vias_etiquetas_1,layer_limite_distrital_INEI_3]);
        map.on("zoomend", function(){
            resetLabels([layer_vias_etiquetas_1,layer_limite_distrital_INEI_3]);
        });
        map.on("layeradd", function(){
            resetLabels([layer_vias_etiquetas_1,layer_limite_distrital_INEI_3]);
        });
        map.on("layerremove", function(){
            resetLabels([layer_vias_etiquetas_1,layer_limite_distrital_INEI_3]);
        });
        </script>        
    </body>
</html>
